# char prev = toCompress.charAt(0); for(int i = 0; i &lt; toCompress.length(); i++){ int times = 1; prev = toCompress.charAt(i); while(i &lt; toCompress.length()-1 && toCompress.charAt(i+1)==prev){ prev = toCompress.charAt(i); times++; i++; } times &lt;&lt;= 8; //shift by 8 bits to the left int comp = times + prev; // add the counter with the character //here the next lines just show how to decompress int findTimes = comp &gt;&gt; 8; int findChar = comp & (int)Math.pow(2, 8)-1; System.out.println((char)findChar+""+findTimes); }